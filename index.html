<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WSM 2026 - ULTIMATE INTEGRATED</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,700;0,900;1,900&display=swap" rel="stylesheet" />
    <style>
        :root { --primary: #00ffcc; --accent: #7d2ae8; --dark: #05070a; --glass: rgba(15, 18, 24, 0.94); --gold: #ffd700; }
        * { box-sizing: border-box; margin: 0; padding: 0; border: none; outline: none; transition: all 0.2s cubic-bezier(0.19, 1, 0.22, 1); }
        body { font-family: 'Montserrat', sans-serif; background: var(--dark); color: #fff; height: 100vh; overflow: hidden; background-image: url('https://images.unsplash.com/photo-1574629810360-7efbbe195018?q=80&w=2000'); background-size: cover; background-position: center; }
        .vignette { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, transparent 0%, rgba(0,0,0,0.9) 100%); z-index: 1; pointer-events: none; }

        /* TOP NAV */
        .top-nav { position: fixed; top: 0; width: 100%; height: 90px; background: var(--glass); border-bottom: 2px solid var(--primary); display: none; justify-content: space-between; align-items: center; padding: 0 5%; z-index: 1000; backdrop-filter: blur(10px); }
        .fama-container { width: 120px; height: 8px; background: #333; border-radius: 4px; overflow: hidden; margin-top: 5px; }
        #fama-bar { height: 100%; background: var(--primary); width: 50%; box-shadow: 0 0 10px var(--primary); }

        /* NAVEGAÇÃO DE TELAS */
        .screen { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100vh; padding: 110px 5% 40px; z-index: 10; overflow-y: auto; }
        .screen.active { display: block; animation: fadeIn 0.4s; }
        #scr-intro.active { display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 0; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* NOVO DASHBOARD FIFA-STYLE (6 OPÇÕES) */
        .dashboard-grid { display: grid; grid-template-columns: 2fr 1fr 1fr; grid-template-rows: 240px 240px; gap: 15px; }
        .tile { background: var(--glass); border: 1px solid rgba(255,255,255,0.1); padding: 20px; display: flex; flex-direction: column; justify-content: flex-end; cursor: pointer; border-radius: 4px; position: relative; }
        .tile:hover { border-color: var(--primary); transform: scale(1.02); z-index: 5; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        .tile-hero { grid-row: span 2; background: linear-gradient(45deg, var(--accent), #1a237e); border-left: 8px solid var(--primary); }
        .tile h2 { font-size: 22px; font-weight: 900; font-style: italic; text-transform: uppercase; }
        .tile p { color: var(--primary); font-size: 10px; font-weight: 700; letter-spacing: 1px; margin-bottom: 5px; }

        /* CARDS */
        .player-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .card-pro { background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 20px; text-align: center; position: relative; }
        .ovr-badge { position: absolute; top: 10px; left: 10px; font-size: 24px; font-weight: 900; color: var(--gold); }

        .btn-fifa { background: #fff; color: #000; padding: 12px 30px; font-size: 13px; font-weight: 900; text-transform: uppercase; cursor: pointer; transform: skewX(-10deg); display: inline-block; }
        .btn-fifa:hover { background: var(--primary); }
        .btn-sell { background: #ff4444; color: #fff; border-radius: 0; }

        .escudo-svg { width: 60px; height: 60px; filter: drop-shadow(0 0 10px rgba(0,0,0,0.5)); }
        .escudo-mini { width: 30px; height: 30px; vertical-align: middle; }
    </style>
</head>
<body>

    <div class="vignette"></div>
    <audio id="bg-music" loop><source src="https://stream.zeno.fm/f3v5u8p7u0huv" type="audio/mpeg"></audio>

    <nav class="top-nav" id="main-nav">
        <div style="display:flex; align-items:center; gap:15px;">
            <div id="ui-my-badge"></div>
            <div>
                <div style="font-weight:900; font-style:italic;">WSM<span style="color:var(--primary)">26</span></div>
                <div id="ui-stadium-name" style="font-size:9px; opacity:0.6;">Arena</div>
            </div>
        </div>
        <div style="display:flex; gap:25px; text-align:center;">
            <div><p style="font-size:9px; font-weight:900;">FAMA</p><div class="fama-container"><div id="fama-bar"></div></div></div>
            <div><p style="font-size:9px; font-weight:900;">SALDO</p><span id="ui-money" style="color:var(--gold); font-weight:900;">R$ 0</span></div>
            <div><p style="font-size:9px; font-weight:900;">RODADA</p><span id="ui-round" style="font-weight:900;">1</span></div>
        </div>
    </nav>

    <div id="scr-intro" class="screen active">
        <h1 style="font-size:100px; font-weight:900; font-style:italic; filter: drop-shadow(0 0 20px var(--primary))">WSM<span>26</span></h1>
        <p style="letter-spacing:10px; opacity:0.5; margin-bottom:30px; font-weight: 700;">ULTIMATE MANAGER</p>
        <button class="btn-fifa" onclick="startApp()">Iniciar Carreira</button>
    </div>

    <div id="scr-select" class="screen">
        <h1 style="font-style:italic; font-weight:900; margin-bottom:30px; text-align:center;">ESCOLHA SEU <span style="color:var(--primary)">TIME</span></h1>
        <div id="team-grid" class="player-grid"></div>
    </div>

    <div id="scr-home" class="screen">
        <div class="dashboard-grid">
            <div class="tile tile-hero" onclick="openMatch()">
                <div style="display:flex; justify-content:center; align-items:center; gap:20px; margin-bottom:auto;">
                    <div id="prev-home-badge"></div><div style="font-weight:900; color:var(--primary); font-size: 20px;">VS</div><div id="prev-away-badge"></div>
                </div>
                <p>Próximo Jogo</p>
                <h2 id="next-adv-text">Adversário</h2>
                <button class="btn-fifa" style="margin-top:10px; font-size:10px;">Jogar Partida</button>
            </div>
            <div class="tile" style="background-image:url('https://images.unsplash.com/photo-1508098682722-e99c43a406b2?q=80&w=400'); background-size:cover;" onclick="goTo('scr-elenco')">
                <p>Tática & Campo</p>
                <h2>Escalação</h2>
            </div>
            <div class="tile" style="background:#1a2e2a" onclick="goTo('scr-market')" id="tile-market">
                <p>Negociações</p>
                <h2>Mercado</h2>
            </div>
            <div class="tile" style="background-image:url('https://images.unsplash.com/photo-1522778119026-d647f0596c20?q=80&w=400'); background-size:cover;" onclick="goTo('scr-stadium')">
                <p>Upgrade</p>
                <h2>Estádio</h2>
            </div>
            <div class="tile" style="background:#1a1c23" onclick="goTo('scr-table')">
                <p>Série A</p>
                <h2>Tabela</h2>
            </div>
            <div class="tile" style="background: linear-gradient(135deg, #1b5e20, #000);" onclick="goTo('scr-bet')">
                <p>Ganhar Grana</p>
                <h2>Bet WSM</h2>
            </div>
        </div>
    </div>

    <div id="scr-elenco" class="screen">
        <h1 style="font-style:italic; font-weight:900; margin-bottom:10px;">SQUAD <span style="color:var(--primary)">MANAGER</span></h1>
        <div id="elenco-grid" class="player-grid"></div>
        <br><button class="btn-fifa" onclick="goTo('scr-home')">Confirmar e Voltar</button>
    </div>

    <div id="scr-stadium" class="screen">
        <h1 id="ui-stadium-title" style="font-style:italic; font-weight:900;">ARENA</h1>
        <div class="player-grid" style="margin-top:30px;">
            <div class="card-pro"><h3>Capacidade</h3><h2 id="ui-arena-cap">15k</h2><p>Nível <span id="ui-arena-lvl">1</span></p></div>
            <div class="card-pro" id="up-card"><h3>Upgrade</h3><h2 style="color:var(--gold)" id="ui-up-cost">R$ 8M</h2><button class="btn-fifa" onclick="upgradeStadium()">Expandir</button></div>
        </div>
        <br><button class="btn-fifa" onclick="goTo('scr-home')">Voltar</button>
    </div>

    <div id="scr-bet" class="screen">
        <h1 style="font-style:italic; font-weight:900;">WSM <span style="color:var(--primary)">BET</span></h1>
        <div id="bet-list"></div>
        <br><button class="btn-fifa" onclick="goTo('scr-home')">Confirmar</button>
    </div>

    <div id="scr-market" class="screen">
        <h1 style="font-style:italic; font-weight:900;">MERCADO</h1>
        <div id="market-grid" class="player-grid"></div>
        <br><button class="btn-fifa" onclick="goTo('scr-home')">Voltar</button>
    </div>

    <div id="scr-table" class="screen">
        <h1 style="font-style:italic; font-weight:900;">TABELA</h1>
        <div style="background:var(--glass); padding:20px;"><table id="league-table" style="width:100%"></table></div>
        <br><button class="btn-fifa" onclick="goTo('scr-home')">Voltar</button>
    </div>

    <div id="scr-match" class="screen">
        <div style="background:rgba(0,0,0,0.95); padding:40px; border-radius:10px; border-top:5px solid var(--primary); text-align:center; max-width:800px; margin:0 auto;">
            <div style="display:flex; justify-content:space-around; align-items:center;">
                <div id="m-home-badge"></div>
                <div style="font-size:60px; font-weight:900;"><span id="m-sh">0</span> - <span id="m-sa">0</span></div>
                <div id="m-away-badge"></div>
            </div>
            <div id="match-log" style="height:120px; background:#000; margin:20px 0; padding:10px; overflow-y:auto; font-family:monospace; text-align:left; display:flex; flex-direction:column-reverse;"></div>
            <button class="btn-fifa" id="btn-start" onclick="runSim()" style="background:var(--primary);">Kick Off</button>
            <button class="btn-fifa" id="btn-end" style="display:none" onclick="finishRound()">Avançar</button>
        </div>
    </div>

<script>
    const CLUBES_INFO = {
        "Athletico-PR": { c: "#eb1923", s: "cap", arena: "Arena da Baixada" },
        "Atlético-MG": { c: "#000", s: "shield", arena: "Arena MRV" },
        "Bahia": { c: "#0000ff", s: "circle", arena: "Arena Fonte Nova" },
        "Botafogo": { c: "#000", s: "shield", arena: "Nilton Santos" },
        "Chapecoense": { c: "#006437", s: "shield", arena: "Arena Condá" },
        "Corinthians": { c: "#fff", s: "circle", arena: "Neo Química Arena" },
        "Coritiba": { c: "#006437", s: "circle", arena: "Couto Pereira" },
        "Cruzeiro": { c: "#0000ff", s: "circle", arena: "Mineirão" },
        "Flamengo": { c: "#e20e0e", s: "shield", arena: "Maracanã" },
        "Fluminense": { c: "#83001e", s: "shield", arena: "Maracanã" },
        "Grêmio": { c: "#00adef", s: "circle", arena: "Arena do Grêmio" },
        "Internacional": { c: "#ff0000", s: "circle", arena: "Beira-Rio" },
        "Mirassol": { c: "#ffff00", s: "circle", arena: "Campos Maia" },
        "Palmeiras": { c: "#006437", s: "circle", arena: "Allianz Parque" },
        "Bragantino": { c: "#fff", s: "circle", arena: "Nabi Abi Chedid" },
        "Remo": { c: "#001e44", s: "shield", arena: "Baenão" },
        "Santos": { c: "#fff", s: "shield", arena: "Vila Belmiro" },
        "São Paulo": { c: "#ff0000", s: "tri", arena: "MorumBIS" },
        "Vasco": { c: "#000", s: "shield", arena: "São Januário" },
        "Vitória": { c: "#ff0000", s: "shield", arena: "Barradão" }
    };

    let game = {
        clube: "", grana: 20000000, rodada: 1, fama: 50,
        estadio: { nome: "", lvl: 1, cap: 15000 },
        elenco: [
            {nome: "Capitão", forca: 78, gols: 0}, 
            {nome: "Paredão", forca: 75, gols: 0},
            {nome: "Motorista", forca: 72, gols: 0}
        ],
        tabela: [], apostas: [], rodadaJogos: []
    };

    let mercadoReforcos = [
        {nome: "Vini Jr", forca: 94, preco: 90000000},
        {nome: "Neymar Jr", forca: 91, preco: 65000000},
        {nome: "Estêvão", forca: 83, preco: 30000000},
        {nome: "Hulk", forca: 86, preco: 20000000}
    ];

    function gerarEscudo(nome, classe = "") {
        const conf = CLUBES_INFO[nome] || {c:"#555"};
        if (nome === "Athletico-PR") return `<svg viewBox="0 0 100 100" class="escudo-svg ${classe}"><path d="M15,80 L45,10 L58,10 L28,80 Z" fill="#eb1923"/><path d="M33,80 L63,10 L76,10 L46,80 Z" fill="#eb1923"/><path d="M51,80 L81,10 L94,10 L64,80 Z" fill="#eb1923"/><path d="M69,80 L83,45 L98,45 L84,80 Z" fill="#eb1923"/></svg>`;
        return `<svg viewBox="0 0 100 100" class="escudo-svg ${classe}"><circle cx="50" cy="50" r="45" fill="${conf.c}" stroke="#fff" stroke-width="4"/><text x="50" y="62" text-anchor="middle" fill="#fff" font-size="30" font-weight="900">${nome.substring(0,2).toUpperCase()}</text></svg>`;
    }

    function goTo(id) {
        if(id === 'scr-market' && game.fama < 30) return alert("Fama muito baixa para contratar!");
        document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = (id === 'scr-intro') ? 'flex' : 'block';
        document.getElementById('main-nav').style.display = (['scr-intro', 'scr-select'].includes(id)) ? 'none' : 'flex';
        if(id === 'scr-table') renderTable();
        if(id === 'scr-bet') renderBet();
        if(id === 'scr-market') renderMarket();
        if(id === 'scr-elenco') renderElenco();
        if(id === 'scr-stadium') renderStadium();
        updateUI();
    }

    function startApp() { document.getElementById('bg-music').volume = 0.2; document.getElementById('bg-music').play(); goTo('scr-select'); }

    function init() {
        const grid = document.getElementById('team-grid');
        Object.keys(CLUBES_INFO).forEach(t => {
            const card = document.createElement('div'); card.className = 'card-pro'; card.style.cursor = "pointer";
            card.innerHTML = `${gerarEscudo(t)}<br><strong>${t}</strong>`;
            card.onclick = () => { game.clube = t; game.estadio.nome = CLUBES_INFO[t].arena; game.tabela = Object.keys(CLUBES_INFO).map(n => ({n, p:0})); sortRound(); goTo('scr-home'); };
            grid.appendChild(card);
        });
    }

    function sortRound() {
        let ts = Object.keys(CLUBES_INFO).sort(() => Math.random() - 0.5);
        game.rodadaJogos = [];
        for(let i=0; i<ts.length; i+=2) game.rodadaJogos.push({h: ts[i], a: ts[i+1], res: null});
    }

    function updateUI() {
        document.getElementById('ui-money').innerText = `R$ ${game.grana.toLocaleString()}`;
        document.getElementById('ui-round').innerText = game.rodada;
        document.getElementById('fama-bar').style.width = game.fama + "%";
        document.getElementById('ui-stadium-name').innerText = game.estadio.nome;
        const meuJ = game.rodadaJogos.find(j => j.h === game.clube || j.a === game.clube);
        const adv = meuJ.h === game.clube ? meuJ.a : meuJ.h;
        document.getElementById('next-adv-text').innerText = adv;
        document.getElementById('prev-home-badge').innerHTML = gerarEscudo(game.clube);
        document.getElementById('prev-away-badge').innerHTML = gerarEscudo(adv);
        document.getElementById('tile-market').style.opacity = game.fama < 30 ? "0.3" : "1";
    }

    function renderElenco() {
        const grid = document.getElementById('elenco-grid');
        grid.innerHTML = game.elenco.map((p, i) => `
            <div class="card-pro">
                <div class="ovr-badge">${p.forca}</div>
                <h3>${p.nome}</h3><p>Gols: ${p.gols}</p>
                <button class="btn-fifa btn-sell" onclick="vender(${i})" style="font-size:9px; padding:10px; margin-top:10px;">Vender R$ ${(p.forca*150000).toLocaleString()}</button>
            </div>`).join('');
    }

    function vender(i) { game.grana += (game.elenco[i].forca * 150000); game.elenco.splice(i, 1); renderElenco(); updateUI(); }

    function renderMarket() {
        const g = document.getElementById('market-grid');
        g.innerHTML = mercadoReforcos.map((p, i) => `
            <div class="card-pro">
                <div class="ovr-badge">${p.forca}</div>
                <h3>${p.nome}</h3>
                <button class="btn-fifa" onclick="comprar(${i})" style="font-size:9px; padding:10px; margin-top:10px;">R$ ${p.preco}M</button>
            </div>`).join('');
    }

    function comprar(i) {
        if(game.grana >= mercadoReforcos[i].preco * 1000000) {
            game.grana -= mercadoReforcos[i].preco * 1000000;
            game.elenco.push({...mercadoReforcos[i], gols: 0});
            game.fama = Math.min(100, game.fama + 10);
            mercadoReforcos.splice(i, 1); renderMarket(); updateUI();
        } else alert("Grana insuficiente!");
    }

    function renderStadium() {
        document.getElementById('ui-stadium-title').innerText = game.estadio.nome;
        document.getElementById('ui-arena-cap').innerText = game.estadio.cap.toLocaleString();
        document.getElementById('ui-arena-lvl').innerText = game.estadio.lvl;
        document.getElementById('ui-up-cost').innerText = `R$ ${((game.estadio.lvl * 8)).toLocaleString()}M`;
        if(game.estadio.lvl >= 3) document.getElementById('up-card').style.display = "none";
    }

    function upgradeStadium() {
        let cost = game.estadio.lvl * 8000000;
        if(game.grana >= cost) { game.grana -= cost; game.estadio.lvl++; game.estadio.cap += 20000; game.fama = Math.min(100, game.fama + 15); renderStadium(); updateUI(); }
    }

    function renderBet() {
        const list = document.getElementById('bet-list'); list.innerHTML = "";
        game.rodadaJogos.forEach((c, i) => {
            if(c.h === game.clube || c.a === game.clube) return;
            const div = document.createElement('div'); div.style.cssText = "background:#1a1c23; padding:15px; margin-bottom:10px; display:flex; justify-content:space-between; align-items:center;";
            div.innerHTML = `<span>${c.h}</span> <div><button class="btn-fifa" onclick="apostar(${i},'${c.h}')" style="padding:8px">CASA</button> <button class="btn-fifa" onclick="apostar(${i},'Empate')" style="padding:8px">X</button> <button class="btn-fifa" onclick="apostar(${i},'${c.a}')" style="padding:8px">FORA</button></div> <span>${c.a}</span>`;
            list.appendChild(div);
        });
    }

    function apostar(idx, t) { if(game.grana >= 500000) { game.grana -= 500000; game.apostas.push({idx, pick: t}); alert("Aposta feita!"); updateUI(); } }

    function renderTable() {
        const t = document.getElementById('league-table'); game.tabela.sort((a,b)=>b.p-a.p);
        t.innerHTML = game.tabela.map((r,i)=>`<tr style="${r.n===game.clube?'color:var(--primary); font-weight:bold':''}; border-bottom:1px solid #222"><td style="padding:15px">${i+1}º</td><td>${gerarEscudo(r.n, "escudo-mini")} ${r.n}</td><td>${r.p} pts</td></tr>`).join('');
    }

    function openMatch() {
        if(game.elenco.length < 1) return alert("Contrate jogadores!");
        goTo('scr-match'); const meuJ = game.rodadaJogos.find(j => j.h === game.clube || j.a === game.clube);
        document.getElementById('m-home-badge').innerHTML = gerarEscudo(meuJ.h);
        document.getElementById('m-away-badge').innerHTML = gerarEscudo(meuJ.a);
        document.getElementById('m-sh').innerText = 0; document.getElementById('m-sa').innerText = 0;
        document.getElementById('btn-start').style.display = 'block'; document.getElementById('btn-end').style.display = 'none';
    }

    function runSim() {
        document.getElementById('btn-start').style.display = 'none'; let min = 0; let sh = 0; let sa = 0;
        const timer = setInterval(() => {
            min++; if(min > 90) { clearInterval(timer); finalizar(sh, sa); document.getElementById('btn-end').style.display = 'block'; return; }
            if(Math.random() > 0.92) {
                if(Math.random() > 0.5) sh++; else sa++;
                document.getElementById('m-sh').innerText = sh; document.getElementById('m-sa').innerText = sa;
                document.getElementById('match-log').innerHTML = `<div>${min}' GOOL!</div>` + document.getElementById('match-log').innerHTML;
            }
        }, 30);
    }

    function finalizar(myH, myA) {
        game.rodadaJogos.forEach(c => {
            let rh, ra;
            if(c.h === game.clube || c.a === game.clube) { rh = myH; ra = myA; 
                if(rh > ra) { game.grana += (game.estadio.cap * 50); game.fama = Math.min(100, game.fama + 5); }
                else if(rh < ra) { game.fama = Math.max(0, game.fama - 8); }
            } else { rh = Math.floor(Math.random()*3); ra = Math.floor(Math.random()*3); }
            c.res = rh > ra ? c.h : (rh < ra ? c.a : 'Empate');
            game.tabela.find(t => t.n === c.h).p += (rh > ra ? 3 : (rh === ra ? 1 : 0));
            game.tabela.find(t => t.n === c.a).p += (ra > rh ? 3 : (ra === rh ? 1 : 0));
        });
        game.apostas.forEach(b => { if(game.rodadaJogos[b.idx].res === b.pick) { game.grana += 1250000; alert("Ganhou R$ 1.25M!"); } });
        game.apostas = [];
    }

    function finishRound() { game.rodada++; sortRound(); updateUI(); goTo('scr-home'); }
    init();
</script>
</body>
</html>
